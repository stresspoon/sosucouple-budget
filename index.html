<!doctype html><html class="dark" lang="ko"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>자산 현황</title><link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;700;800&display=swap" rel="stylesheet"><script src="https://cdn.tailwindcss.com"></script><script>tailwind.config={darkMode:'class'}</script></head><body class="bg-[#102216] text-slate-100" style="font-family:Manrope,sans-serif"><div class="max-w-md mx-auto min-h-screen pb-24 px-5 pt-8"><h1 class="text-2xl font-extrabold mb-4">영수증 자동 가계부</h1><div class="bg-[#1c2e22] rounded-2xl p-4 border border-[#2a4232] mb-4"><div class="text-xs text-slate-400 mb-2">Gemini API Key</div><div class="flex gap-2"><input id="apiKey" type="password" class="flex-1 rounded-xl bg-[#15231a] border-[#2a4232] text-white px-3 py-2" placeholder="AI..."/><button id="saveKey" class="px-3 rounded-xl bg-[#13ec5b] text-black font-bold">저장</button></div></div><div class="bg-[#1c2e22] rounded-2xl p-5 border border-[#2a4232] mb-4"><p class="text-sm text-slate-400 mb-1">이번 달 지출</p><h2 id="total" class="text-3xl font-extrabold">-0원</h2><div class="mt-3 grid grid-cols-3 gap-2 text-center"><div class="bg-[#15231a] p-3 rounded-xl"><div class="text-xs text-slate-400">입금</div><div>+0원</div></div><div class="bg-[#15231a] p-3 rounded-xl"><div class="text-xs text-slate-400">지출</div><div id="spend">-0원</div></div><div class="bg-[#15231a] p-3 rounded-xl"><div class="text-xs text-slate-400">잔액</div><div id="bal">0원</div></div></div></div><div class="bg-[#1c2e22] rounded-2xl p-4 border border-[#2a4232]"><h3 class="font-bold mb-2">최근 내역</h3><div id="recent" class="space-y-2 text-sm"></div></div></div><nav class="fixed bottom-0 inset-x-0 bg-[#15231a] border-t border-[#2a4232]"><div class="max-w-md mx-auto grid grid-cols-4 py-3 text-center text-sm font-semibold"><a class="text-[#13ec5b]" href="/">홈</a><a href="/calendar">달력</a><a href="/stats">통계</a><a href="/add">추가</a></div></nav><script type="module">import {getKey,setKey,getTx,won,ym} from './app.js'; const m=ym(); const key=document.getElementById('apiKey'); key.value=getKey(); document.getElementById('saveKey').onclick=()=>{setKey(key.value.trim()); location.reload();}; const tx=getTx().filter(t=>t.tx_date?.startsWith(m)); const total=tx.reduce((s,t)=>s+Number(t.amount||0),0); document.getElementById('total').textContent='-'+won(total); document.getElementById('spend').textContent='-'+won(total); document.getElementById('bal').textContent='-'+won(total); document.getElementById('recent').innerHTML=tx.slice().reverse().slice(0,6).map(t=>`<div class='flex justify-between bg-[#15231a] rounded-xl px-3 py-2'><span>${t.merchant||'미분류'} <span class='text-slate-400 text-xs'>${t.tx_date}</span></span><b>-${won(t.amount)}</b></div>`).join('')||'<div class="text-slate-400">내역 없음</div>';</script></body></html>
