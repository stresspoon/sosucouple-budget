<!doctype html><html class='dark' lang='ko'><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'><title>통계</title><link href='https://fonts.googleapis.com/css2?family=Manrope:wght@400;700;800&display=swap' rel='stylesheet'><script src='https://cdn.tailwindcss.com'></script></head><body class='bg-[#102216] text-slate-100' style='font-family:Manrope,sans-serif'><div class='max-w-md mx-auto min-h-screen pb-24 px-4 pt-8'><h1 class='text-xl font-bold mb-4'>지출 통계</h1><div class='bg-[#1c2e22] rounded-2xl border border-[#2a4232] p-5 mb-4'><div class='text-slate-400 text-sm'>이번 달 총 지출</div><div id='total' class='text-3xl font-extrabold'>0원</div></div><div class='bg-[#1c2e22] rounded-2xl border border-[#2a4232] p-4'><h3 class='font-bold mb-2'>카테고리별</h3><div id='cats' class='space-y-2'></div></div></div><nav class='fixed bottom-0 inset-x-0 bg-[#15231a] border-t border-[#2a4232]'><div class='max-w-md mx-auto grid grid-cols-4 py-3 text-center text-sm font-semibold'><a href='/'>홈</a><a href='/calendar'>달력</a><a class='text-[#13ec5b]' href='/stats'>통계</a><a href='/add'>추가</a></div></nav><script type='module'>import {getTx,ym,won} from './app.js'; const month=ym(); const tx=getTx().filter(t=>t.tx_date?.startsWith(month)); const total=tx.reduce((s,t)=>s+Number(t.amount||0),0); document.getElementById('total').textContent='-'+won(total); const grp={}; tx.forEach(t=>grp[t.category||'기타']=(grp[t.category||'기타']||0)+Number(t.amount||0)); const rows=Object.entries(grp).sort((a,b)=>b[1]-a[1]); document.getElementById('cats').innerHTML=rows.map(([k,v])=>`<div class='flex justify-between bg-[#15231a] rounded-xl px-3 py-2'><span>${k}</span><b>-${won(v)}</b></div>`).join('')||'<div class="text-slate-400">데이터 없음</div>';</script></body></html>
